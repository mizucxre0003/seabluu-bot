# SEABLUU Helper Bot

Telegram-–±–æ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞–º–∏ –∏ —Ä–∞–∑–±–æ—Ä–∞–º–∏ **SEABLUU**, –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å **Google Sheets**.  
–ë–æ—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∑–∞–∫–∞–∑—ã –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –∞–¥—Ä–µ—Å–∞–º–∏, –∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º ‚Äî –≤–µ—Å—Ç–∏ —Å—Ç–∞—Ç—É—Å—ã, —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∏ —Ä–∞—Å—Å—ã–ª–∫–∏ –ø—Ä—è–º–æ –∏–∑ Telegram.

---

## üöÄ –û—Å–Ω–æ–≤–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é –º–µ–∂–¥—É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏ —Ä–∞–∑–±–æ—Ä–æ–≤ –∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏.  
–í—Å–µ –¥–∞–Ω–Ω—ã–µ (—Ä–∞–∑–±–æ—Ä—ã, –∞–¥—Ä–µ—Å–∞, —É—á–∞—Å—Ç–Ω–∏–∫–∏, –ø–æ–¥–ø–∏—Å–∫–∏) —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Google Sheets, —á—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π –∏ –ª–µ–≥–∫–æ —É–ø—Ä–∞–≤–ª—è–µ–º–æ–π –±–µ–∑ –æ—Ç–¥–µ–ª—å–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

---

## üß© –û—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–µ–∫

- **Python 3.11**
- **python-telegram-bot v21**
- **FastAPI + Uvicorn** ‚Äî –≤–µ–±—Ö—É–∫-—Å–µ—Ä–≤–µ—Ä
- **Google Sheets (gspread + google-auth)** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Docker** ‚Äî –¥–µ–ø–ª–æ–π –Ω–∞ [Koyeb](https://www.koyeb.com/)

---

## ‚öôÔ∏è –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üë§ –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–û—Ç—Å–ª–µ–¥–∏—Ç—å —Ä–∞–∑–±–æ—Ä / –∑–∞–∫–∞–∑** ‚Äî –≤–≤–æ–¥–∏—à—å `order_id` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `CN-12345`) –∏ –≤–∏–¥–∏—à—å —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å. –ú–æ–∂–Ω–æ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.
- **–ú–æ–∏ –∞–¥—Ä–µ—Å–∞** ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞ (–§–ò–û, —Ç–µ–ª–µ—Ñ–æ–Ω, –≥–æ—Ä–æ–¥, —É–ª–∏—Ü–∞, –∏–Ω–¥–µ–∫—Å).
- **–ú–æ–∏ –ø–æ–¥–ø–∏—Å–∫–∏** ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –∏ –æ—Ç–ø–∏—Å–∫–∞ –æ—Ç –∑–∞–∫–∞–∑–æ–≤.

### üõ†Ô∏è –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞**:  
  –ø–æ—à–∞–≥–æ–≤—ã–π –¥–∏–∞–ª–æ–≥ ‚Äî `order_id` ‚Üí —É—á–∞—Å—Ç–Ω–∏–∫–∏ (@username) ‚Üí —Å—Ç—Ä–∞–Ω–∞ (CN/KR) ‚Üí —Å—Ç–∞—Ç—É—Å ‚Üí –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ.  
  –ó–∞–ø–∏—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Google Sheets.
- **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤**:  
  –∫–∞—Ä—Ç–æ—á–∫–∞ —Ä–∞–∑–±–æ—Ä–∞ + —É—á–∞—Å—Ç–Ω–∏–∫–∏, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–º–µ—á–∞—Ç—å –æ–ø–ª–∞—Ç—É.
- **–ú–∞—Å—Å–æ–≤–∞—è —Å–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–æ–≤**:  
  –Ω–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ —Å–ø–∏—Å–∫—É `order_id`, –∞ –ø–æ–¥–ø–∏—Å—á–∏–∫–∏ –ø–æ–ª—É—á–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.
- **–†–∞—Å—Å—ã–ª–∫–∏ –¥–æ–ª–∂–Ω–∏–∫–∞–º**:  
  –ø–æ –æ–¥–Ω–æ–º—É –∑–∞–∫–∞–∑—É –∏–ª–∏ –ø–æ –≤—Å–µ–º —Å—Ä–∞–∑—É, —Å –æ—Ç—á—ë—Ç–æ–º, –∫–æ–º—É —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ.
- **–†–∞–±–æ—Ç–∞ —Å –∞–¥—Ä–µ—Å–∞–º–∏**:  
  –≤—ã–≥—Ä—É–∑–∫–∞ –∞–¥—Ä–µ—Å–æ–≤ –ø–æ —Å–ø–∏—Å–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ username.
- **–û—Ç—á—ë—Ç—ã**:  
  –≤—ã–≥—Ä—É–∑–∫–∞ —Ä–∞–∑–±–æ—Ä–æ–≤ –ø–æ –º–µ—Ç–∫–µ (`note`) –∏ –æ–±—â–∏–π –æ—Ç—á—ë—Ç –ø–æ –¥–æ–ª–∂–Ω–∏–∫–∞–º.

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

| –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|-------------|
| `app/main.py` | –í—Å–µ —Ö—ç–Ω–¥–ª–µ—Ä—ã Telegram-–±–æ—Ç–∞ (–∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è –∏ –∞–¥–º–∏–Ω—Å–∫–∞—è –ª–æ–≥–∏–∫–∞, —Å—Ç–∞—Ç—É—Å—ã, —Ä–∞—Å—Å—ã–ª–∫–∏). |
| `app/webhook.py` | –í–µ–±—Ö—É–∫-—Å–µ—Ä–≤–µ—Ä –Ω–∞ FastAPI —Å —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏ `/telegram` –∏ `/health`. |
| `app/sheets.py` | –†–∞–±–æ—Ç–∞ —Å Google Sheets: —Å–æ–∑–¥–∞–Ω–∏–µ –ª–∏—Å—Ç–æ–≤, CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏, –ø–æ–∏—Å–∫ –¥–æ–ª–∂–Ω–∏–∫–æ–≤. |
| `app/config.py` | –ß—Ç–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è. |
| `app/texts.py` | –¢–µ–∫—Å—Ç–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –±–æ—Ç–∞. |

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Google Sheets

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –±–æ—Ç —Å–æ–∑–¥–∞—ë—Ç –Ω—É–∂–Ω—ã–µ –ª–∏—Å—Ç—ã –∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏:

- **orders** ‚Äî `order_id`, `client_name`, `phone`, `origin`, `status`, `note`, `country`, `updated_at`
- **addresses** ‚Äî `user_id`, `username`, `full_name`, `phone`, `city`, `address`, `postcode`, `created_at`, `updated_at`
- **subscriptions** ‚Äî `user_id`, `order_id`, `last_sent_status`, `created_at`, `updated_at`
- **participants** ‚Äî `order_id`, `username`, `paid`, `qty`, `created_at`, `updated_at`

---

## üîê –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------------|-----------|
| `BOT_TOKEN` | –¢–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞ |
| `GOOGLE_SHEETS_ID` | ID —Ç–∞–±–ª–∏—Ü—ã Google Sheets |
| `GOOGLE_CREDENTIALS_JSON` | JSON-—Å—Ç—Ä–æ–∫–∞ —Å –∫–ª—é—á–æ–º —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ *(–∏–ª–∏)* |
| `GOOGLE_CREDENTIALS_FILE` | –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É —Å –∫–ª—é—á–æ–º |
| `ADMIN_IDS` | Telegram ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é) |
| `PUBLIC_URL` | –ü—É–±–ª–∏—á–Ω—ã–π URL (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤–µ–±—Ö—É–∫–∞) |
| `PORT` | –ü–æ—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Koyeb –∑–∞–¥–∞—ë—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏) |

> –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `WEBHOOK_URL` –≤ –∫–æ–¥–µ **–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**, –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –∏–∑ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

---

## üê≥ –î–µ–ø–ª–æ–π –Ω–∞ Koyeb

1. –ü–æ–¥–∫–ª—é—á–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π GitHub —Å –±–æ—Ç–æ–º.  
2. –í —Ä–∞–∑–¥–µ–ª–µ **Environment variables** –¥–æ–±–∞–≤—å –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ —Å–ø–∏—Å–∫–∞ –≤—ã—à–µ.  
3. –£–∫–∞–∂–∏ `PUBLIC_URL` –≤–∏–¥–∞ `https://<app>.koyeb.app` ‚Äî –±–æ—Ç —Å–∞–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤–µ–±—Ö—É–∫.  
4. –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ Koyeb –∑–∞–ø—É—Å—Ç–∏—Ç –∫–æ–º–∞–Ω–¥—É –∏–∑ `Dockerfile`:
   ```bash
   uvicorn app.webhook:app --host 0.0.0.0 --port $PORT
